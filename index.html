<!DOCTYPE html>
<html lang="en">

<head>
    <title>Camera Preview</title>
</head>

<body>
    <video id="cameraPreview" autoplay></video>

    <script>
        const cameraPreview = document.getElementById('cameraPreview');

        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                cameraPreview.srcObject = stream;

                cameraPreview.addEventListener('loadedmetadata', () => {
                    // Set video dimensions to achieve a square frame
                    const minSize = Math.min(cameraPreview.videoWidth, cameraPreview.videoHeight);
                    cameraPreview.width = minSize;
                    cameraPreview.height = minSize;

                    // Set the cropping area to achieve a square frame
                    const croppingX = (cameraPreview.videoWidth - minSize) / 2;
                    const croppingY = (cameraPreview.videoHeight - minSize) / 2;
                    cameraPreview.style.objectFit = 'none';
                    cameraPreview.style.objectPosition = `-${croppingX}px -${croppingY}px`;
                });
            } catch (error) {
                console.error('Error accessing camera:', error);
            }
        }

        startCamera();
    </script>
</body>

</html>




